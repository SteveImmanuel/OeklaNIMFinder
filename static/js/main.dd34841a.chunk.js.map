{"version":3,"sources":["components/Login.js","components/Register.js","components/Header.js","Sign.js","components/Form.js","components/Result.js","App.js","components/Router.js","index.js"],"names":["Login","props","react_default","a","createElement","className","onSubmit","login","type","name","placeholder","maxLength","react_router_dom","to","onClick","showRegister","Register","register","showLogin","Header","logout","localStorage","clear","Sign","state","message","_callee","e","username","password","request","result","regenerator_default","wrap","_context","prev","next","preventDefault","target","elements","value","fetch","method","headers","Headers","Content-Type","body","concat","sent","json","status","setItem","token","_this","history","push","setState","stop","_callee2","_context2","components_Header","this","components_Login","components_Register","React","Component","Form","search","id","min","Result","Array","isArray","curResult","length","map","data","key","nim_tpb","nim_jur","prodi","prevResult","nextResult","App","page","requestAPI","query","count","link","getItem","Auth-Token","Object","defineProperty","payload","alert","form","newCur","newPrev","newPage","newNext","componentDidUpdate","prevProps","prevState","components_Form","components_Result","Router","basename","react_router","exact","path","component","render","src_App","ReactDOM","components_Router","document","getElementById"],"mappings":"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","file":"static/js/main.dd34841a.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Login = props => (\r\n    <div className='main-wrapper'>\r\n        <p className='title'>Login</p>\r\n        <form onSubmit={props.login}>\r\n            <input className='form-field' type=\"text\" name=\"username\" placeholder=\"Username\" maxLength=\"20\"/>\r\n            <br/>\r\n            <input className='form-field' type=\"password\" name=\"password\" placeholder=\"Password\"/>\r\n            <br/>\r\n            <button className='button'>Masuk</button>\r\n        </form>\r\n        <br/>\r\n        <p>Baru pertama kali? Lakukan pendaftaran di <Link to='/' onClick={props.showRegister}>sini</Link></p>\r\n    </div>\r\n);\r\n\r\nexport default Login;","import React from \"react\";\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Register = props => (\r\n    <div className='main-wrapper'>\r\n        <p className='title'>Pendaftaran</p>\r\n        <form onSubmit={props.register}>\r\n            <input className='form-field' type=\"text\" name=\"username\" placeholder=\"Username (maks. 20 karakter)\" maxLength=\"20\"/>\r\n            <br/>\r\n            <input className='form-field' type=\"password\" name=\"password\" placeholder=\"Password\"/>\r\n            <br/>\r\n            <button className='button'>Daftar</button>\r\n        </form>\r\n        <br/>\r\n        <p>Sudah punya akun? Lakukan login di <Link to='/' onClick={props.showLogin}>sini</Link></p>\r\n    </div>\r\n);\r\n\r\nexport default Register;","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport '../styles/Header.css';\r\n\r\nconst Header = (props) => (\r\n    <div className='main-header'>\r\n        <span className='title-header'>Oekla NIM Finder</span>\r\n        { props.logout && <Link to='/' className='logout-header' onClick={()=>{localStorage.clear()}}> Keluar </Link> }\r\n    </div>\r\n\r\n);\r\n\r\nexport default Header;","import React from 'react';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport Header from './components/Header';\r\nimport './styles/Main.css';\r\n\r\n\r\nclass Sign extends React.Component {\r\n    state={\r\n        message:null,\r\n        register:true,\r\n        login:false,\r\n    }\r\n\r\n    login = async e => {\r\n        e.preventDefault();\r\n        const username=e.target.elements.username.value;\r\n        const password=e.target.elements.password.value;\r\n        const request= await fetch(\"https://api.stya.net/nim/login\", {\r\n            method: 'POST',\r\n            headers: new Headers({'Content-Type': 'application/x-www-form-urlencoded'}),\r\n            body: `username=${username}&password=${password}`\r\n        });\r\n        const result = await request.json();\r\n        if(result.status==='OK'){\r\n            localStorage.setItem('token',result.token);\r\n            this.props.history.push('/app');\r\n        }else{\r\n            //wrong pass / username\r\n            this.setState({ message:'Username atau password salah!' });\r\n        }\r\n    }\r\n\r\n    register = async e => {\r\n        e.preventDefault();\r\n        const username=e.target.elements.username.value;\r\n        const password=e.target.elements.password.value;\r\n        const request= await fetch(\"https://api.stya.net/nim/register\", {\r\n            method: 'POST',\r\n            headers: new Headers({'Content-Type': 'application/x-www-form-urlencoded'}),\r\n            body: `username=${username}&password=${password}`\r\n        });\r\n        const result = await request.json();\r\n        if(result.status==='OK'){\r\n            this.showLogin();\r\n            this.setState({ message:'Akun berhasil dibuat, silahkan login menggunakan username dan password tadi'});\r\n        }else{\r\n            this.setState({ message:'Username sudah digunakan, coba yang lain!'});\r\n        }\r\n    }\r\n\r\n    showLogin = () => {\r\n        this.setState({\r\n            login:true,\r\n            register:false,\r\n            message:null\r\n        })\r\n    }\r\n\r\n    showRegister = () => {\r\n        this.setState({\r\n            login:false,\r\n            register:true,\r\n            message:null\r\n        })\r\n    }\r\n \r\n    render(){\r\n        return(\r\n            <div>\r\n                <Header/>        \r\n                {this.state.message && <div className='message'>{this.state.message}</div>}\r\n                {this.state.login && <Login login={this.login} showRegister={this.showRegister}/>}\r\n                {this.state.register && <Register register={this.register} showLogin={this.showLogin}/>}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Sign;","import React from 'react';\r\n\r\nconst Form = props => (\r\n    <div>\r\n        <form onSubmit={props.search}>\r\n            <input className='form-field' type='text' name='query' placeholder='Ketikkan pencarian...'/>\r\n            <input className='form-field' id='count' type='number' min='1' name='count' placeholder='Jumlah per Halaman (10)'/>\r\n            <select className ='select-field' name='type'>\r\n                <option value='-1'>Tipe Pencarian</option>\r\n                <option value='0'>NIM</option>\r\n                <option value='1'>Nama</option>\r\n            </select>\r\n            <div className='button-wrapper'>\r\n                <button className='button'>Cari</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n);\r\n\r\nexport default Form;","import React from 'react';\r\nimport '../styles/Result.css'\r\n\r\nconst Result = props => (\r\n    <div className='main-result'>\r\n        {Array.isArray(props.curResult) && props.curResult.length!==0 &&\r\n            <table className='table-result'>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Nama</th>\r\n                        <th>NIM Jurusan</th>\r\n                        <th>NIM TPB</th>\r\n                        <th>Prodi</th>\r\n                    </tr>\r\n                    \r\n                        {props.curResult.map((data)=>{\r\n                            return(\r\n                                <tr key={data.nim_tpb}>\r\n                                    <td>{data.name}</td>\r\n                                    <td>{data.nim_jur}</td>\r\n                                    <td>{data.nim_tpb}</td>\r\n                                    <td>{data.prodi}</td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                </tbody>\r\n            </table>\r\n        }\r\n        <p>{props.message}</p>\r\n        {Array.isArray(props.prevResult) && props.prevResult.length!==0 && <button id='prev' className='button' onClick={props.prev}>Sebelumnya</button>}\r\n        {Array.isArray(props.nextResult) && props.nextResult.length!==0 && <button id='next' className='button' onClick={props.next}>Selanjutnya</button>}\r\n    </div>\r\n);\r\n\r\nexport default Result;","import React from 'react';\nimport Form from './components/Form';\nimport Result from './components/Result';\nimport Header from './components/Header';\nimport './styles/Main.css';\n\n\nclass App extends React.Component{\n    state={\n        prevResult:null,\n        curResult:null,\n        nextResult:null,\n        page: null,\n        message: null\n    }\n\n    requestAPI = async (page,key) => { //type 0=byID, type 1=byName\n        const token = localStorage.getItem('token');\n        const query = localStorage.getItem('query');\n        const count = localStorage.getItem('count');\n        const type = localStorage.getItem('type');\n        var link;\n        if(type==='0'){\n            link = `https://api.stya.net/nim/byid?query=${query}&count=${count}&page=${page}`;\n        }else{\n            link = `https://api.stya.net/nim/byname?name=${query}&count=${count}&page=${page}`;\n        }\n        const request=await fetch(link, {\n            method: 'GET',\n            headers: new Headers({'Auth-Token': token})\n        });\n        const result=await request.json();\n        if(result.status === 'OK'){\n            this.setState({ [key]:result.payload });\n        }else{\n            alert('Token invalid. Silahkan lakukan login kembali.');\n            localStorage.clear();\n            this.props.history.push('/');\n        }\n    }\n\n    search = (e) => {\n        e.preventDefault();\n        const form=e.target.elements;\n        localStorage.setItem('query',form.query.value);\n        localStorage.setItem('count',form.count.value);\n        localStorage.setItem('type',form.type.value);\n        this.setState({\n            prevResult:null,\n            page:0,\n            message:null\n        }, () => {\n            if (form.type.value==='-1'){\n                this.setState({ \n                    curResult:null,\n                    nextResult:null,\n                    message:'Pilih tipe pencarian terlebih dahulu' \n                });\n            }else{\n                this.requestAPI(this.state.page,'curResult');\n                this.requestAPI(this.state.page+1,'nextResult');\n            }\n        });\n    }\n\n    next = () => {\n        //disimpan terlebih dahulu karena setState bersifat async\n        const newCur = this.state.nextResult; \n        const newPrev = this.state.curResult;\n        const newPage = this.state.page+1;\n        this.setState({\n            prevResult:newPrev,\n            curResult:newCur,\n            nextResult:[],\n            page:newPage\n        },() => {\n            this.requestAPI(this.state.page+1,'nextResult');\n        });\n    }\n\n    prev = () => {\n        //disimpan terlebih dahulu karena setState bersifat async\n        const newCur = this.state.prevResult;\n        const newNext = this.state.curResult;\n        const newPage = this.state.page-1;\n        this.setState({\n            prevResult:[],\n            curResult:newCur,\n            nextResult:newNext,\n            page:newPage\n        },() => {\n            if(this.state.page-1<0){\n                this.setState({ prevResult:[] });\n            }else{\n                this.requestAPI(this.state.page-1,'prevResult');\n            }\n        });\n    }\n\n    componentDidUpdate = (prevProps, prevState) => {\n        if(this.state.curResult!==prevState.curResult){\n            if(Array.isArray(this.state.curResult) && this.state.curResult.length===0){\n                this.setState({ message: 'Hasil tidak ditemukan' });\n            }\n        }\n    }\n\n    render(){\n        return(\n            <div>\n                <Header logout={true}/>\n                <Form search={this.search}/>\n                <Result \n                    prevResult={this.state.prevResult}\n                    curResult={this.state.curResult} \n                    nextResult={this.state.nextResult}\n                    next={this.next}\n                    prev={this.prev}\n                    message={this.state.message}\n                />\n            </div>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\r\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\r\nimport Sign from '../Sign';\r\nimport App from '../App';\r\n\r\nconst Router = () => (\r\n    <BrowserRouter basename=\"/OeklaNIMFinder\">\r\n        <Switch>\r\n            <Route exact path='/' component={Sign} />\r\n            <Route path='/app' render={(props) =>\r\n                localStorage.getItem('token') !== null ? <App {...props} /> : <Redirect to='/'/>\r\n            }/>\r\n        </Switch>\r\n    </BrowserRouter>\r\n)\r\n\r\nexport default Router;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Router from './components/Router';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nReactDOM.render(<Router />, document.getElementById('root'));\n\n"],"sourceRoot":""}